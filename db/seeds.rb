# Очистити існуючі дані
Book.destroy_all
Author.destroy_all

# Створити авторів
authors_data = {
  "Михайло Коцюбинський" => {
    bio: "Український письменник-імпресіоніст, один з найвидатніших майстрів прози початку XX століття.",
    active: false
  },
  "Леся Українка" => {
    bio: "Українська письменниця, поетеса, драматургиня, перекладачка. Одна з найвидатніших постатей української літератури.",
    active: false
  },
  "Ольга Кобилянська" => {
    bio: "Українська письменниця, одна з перших феміністок в українській літературі.",
    active: false
  },
  "Василь Стефаник" => {
    bio: "Український письменник-новеліст, класик української літератури.",
    active: false
  },
  "Панас Мирний" => {
    bio: "Український письменник-реаліст, автор соціально-психологічних романів.",
    active: false
  },
  "Іван Франко" => {
    bio: "Український письменник, поет, публіцист, перекладач, науковець, громадський діяч. Каменяр української літератури.",
    active: false
  },
  "Володимир Винниченко" => {
    bio: "Український письменник, драматург, політичний діяч. Один з лідерів Української Народної Республіки.",
    active: false
  },
  "Микола Хвильовий" => {
    bio: "Український письменник, публіцист, літературний критик. Лідер літературної організації 'Ваплітє'.",
    active: false
  },
  "Юрій Яновський" => {
    bio: "Український радянський письменник-романтик, один з найяскравіших прозаїків 1920-х років.",
    active: false
  },
  "Олесь Гончар" => {
    bio: "Український письменник, громадський діяч, Герой України. Класик української літератури XX століття.",
    active: false
  },
  "Юрій Андрухович" => {
    bio: "Український письменник, поет, есеїст, перекладач. Один з лідерів постмодернізму в українській літературі.",
    active: true
  },
  "Оксана Забужко" => {
    bio: "Українська письменниця, поетеса, есеїстка, філософкиня. Найвідоміша сучасна українська авторка за кордоном.",
    active: true
  },
  "Сергій Жадан" => {
    bio: "Український письменник, поет, есеїст, перекладач. Лауреат премії Ґердера та багатьох інших літературних нагород.",
    active: true
  },
  "Юрій Винничук" => {
    bio: "Український письменник, журналіст, перекладач. Майстер історичної прози та містичних романів.",
    active: true
  },
  "Софія Андрухович" => {
    bio: "Українська письменниця, перекладачка, культурологиня. Авторка історичних та постмодерністських романів.",
    active: true
  },
  "Любко Дереш" => {
    bio: "Український письменник, поет, есеїст. Один з найяскравіших представників покоління дев'яностих.",
    active: true
  },
  "Марія Матіос" => {
    bio: "Українська письменниця, поетеса, сценаристка. Авторка історичних романів про Буковину та Гуцульщину.",
    active: true
  },
  "Василь Шкляр" => {
    bio: "Український письменник, сценарист. Майстер історичної прози про козацьку добу.",
    active: true
  },
  "Володимир Лис" => {
    bio: "Український письменник, автор історичних романів та повістей. Лауреат численних літературних премій.",
    active: true
  },
  "Валерій Шевчук" => {
    bio: "Український письменник, літературознавець. Майстер філософської та історичної прози.",
    active: false
  }
}

# Створити авторів
authors = {}
authors_data.each do |name, data|
  authors[name] = Author.create!(
    name: name,
    bio: data[:bio],
    active: data[:active]
  )
  puts "Створено автора: #{name}"
end

# Створити книги з ПЕРЕВІРЕНИМИ роками та назвами
books_data = [
  # Михайло Коцюбинський
  {
    title: "Тіні забутих предків",
    author: "Михайло Коцюбинський",
    year: 1911,
    description: "Романтична повість про любов Івана та Марічки на тлі карпатської природи та гуцульських звичаїв."
  },
  {
    title: "Фата Моргана",
    author: "Михайло Коцюбинський",
    year: 1910,  # Виправлено з 1904
    description: "Повість про соціальну несправедливість та ілюзії людського життя у степу."
  },
  {
    title: "Intermezzo",
    author: "Михайло Коцюбинський",
    year: 1908,
    description: "Ліричний твір про кохання, природу та романтичні переживання."
  },
  
  # Леся Українка
  {
    title: "Лісова пісня",
    author: "Леся Українка",
    year: 1912,  # Виправлено з 1911
    description: "Драма-феєрія, що поєднує українську міфологію з глибокими філософськими роздумами."
  },
  {
    title: "Камінний господар",
    author: "Леся Українка",
    year: 1912,
    description: "Драматична поема про дона Жуана та проблему вибору."
  },
  
  # Ольга Кобилянська
  {
    title: "Земля",
    author: "Ольга Кобилянська",
    year: 1902,
    description: "Повість про долю жінки в патріархальному суспільстві та боротьбу за власну незалежність."
  },
  {
    title: "Царівна",
    author: "Ольга Кобилянська",
    year: 1896,
    description: "Повість про жіночу емансипацію та прагнення до свободи."
  },
  
  # Василь Стефаник
  {
    title: "Камінний хрест",
    author: "Василь Стефаник",
    year: 1900,
    description: "Новела про важке життя галицьких селян та еміграцію."
  },
  {
    title: "Синя книжечка",
    author: "Василь Стефаник",
    year: 1899,
    description: "Збірка новел про соціальні проблеми галицького села."
  },
  
  # Панас Мирний
  {
    title: "Хіба ревуть воли, як ясла повні?",
    author: "Панас Мирний",
    year: 1880,  # Виправлено з 1900
    description: "Соціально-психологічний роман про долю українського селянства."
  },
  
  # Іван Франко
  {
    title: "Перехресні стежки",
    author: "Іван Франко",
    year: 1900,
    description: "Роман про інтелігенцію та її пошуки сенсу життя."
  },
  {
    title: "Захар Беркут",
    author: "Іван Франко",
    year: 1883,
    description: "Історичний роман про боротьбу карпатських горян проти татарської навали."
  },
  {
    title: "Boa Constrictor",
    author: "Іван Франко",
    year: 1878,
    description: "Поема про соціальний та національний гніт."
  },
  
  # Володимир Винниченко
  {
    title: "Сонячна машина",
    author: "Володимир Винниченко",
    year: 1928,  # Виправлено з 1924
    description: "Утопічний роман про майбутнє суспільство та соціальні експерименти."
  },
  {
    title: "Записки Кирпатого Мефістофеля",
    author: "Володимир Винниченко",
    year: 1917,
    description: "Роман про революційні події та моральні дилеми інтелігенції."
  },
  
  # Микола Хвильовий
  {
    title: "Вальдшнепи",
    author: "Микола Хвильовий",
    year: 1927,
    description: "Збірка новел про революційні події та їхній вплив на долі людей."
  },
  {
    title: "Я (Романтика)",
    author: "Микола Хвильовий",
    year: 1924,
    description: "Психологічна новела про революціонера та його внутрішні конфлікти."
  },
  
  # Юрій Яновський
  {
    title: "Майстер корабля",
    author: "Юрій Яновський",
    year: 1928,
    description: "Романтична історія про будівництво кораблів та мрії про майбутнє."
  },
  {
    title: "Вершники",
    author: "Юрій Яновський",
    year: 1935,
    description: "Роман про громадянську війну та долі революціонерів."
  },
  
  # Олесь Гончар
  {
    title: "Прапороносці",
    author: "Олесь Гончар",
    year: 1948,  # Виправлено з 1946
    description: "Трилогія про Другу світову війну та героїзм українського народу."
  },
  {
    title: "Собор",
    author: "Олесь Гончар",
    year: 1968,
    description: "Роман про збереження культурної спадщини та боротьбу за національну ідентичність."
  },
  {
    title: "Тронка",
    author: "Олесь Гончар",
    year: 1963,
    description: "Роман про жіночу долю у воєнний та повоєнний час."
  },
  
  # Юрій Андрухович
  {
    title: "Рекреації",
    author: "Юрій Андрухович",
    year: 1992,
    description: "Карнавальний роман про літературний фестиваль у Чорторию."
  },
  {
    title: "Московіада",
    author: "Юрій Андрухович",
    year: 1993,
    description: "Постмодерністський роман про пригоди українського поета в Москві."
  },
  {
    title: "Перверзія",
    author: "Юрій Андрухович",
    year: 1996,
    description: "Роман про пошуки ідентичності в постколоніальному світі."
  },
  
  # Оксана Забужко
  {
    title: "Польові дослідження з українського сексу",
    author: "Оксана Забужко",
    year: 1996,
    description: "Феміністичний роман про пошуки ідентичності та свободи."
  },
  {
    title: "Музей покинутих секретів",
    author: "Оксана Забужко",
    year: 2009,
    description: "Епічний роман про три покоління українців та їхні таємниці."
  },
  
  # Сергій Жадан
  {
    title: "Депеш Мод",
    author: "Сергій Жадан",
    year: 2004,
    description: "Постмодерністський роман про молодь 1990-х та пошуки себе."
  },
  {
    title: "Ворошиловград",
    author: "Сергій Жадан",
    year: 2010,
    description: "Роман-роудмуві про подорож Донбасом та пошуки зниклого брата."
  },
  {
    title: "Інтернат",
    author: "Сергій Жадан",
    year: 2017,
    description: "Роман про війну на Донбасі та вчителя, який рятує свого підопічного."
  },
  
  # Юрій Винничук
  {
    title: "Танго смерті",
    author: "Юрій Винничук",
    year: 2012,
    description: "Роман про концентраційні табори та силу людського духу."
  },
  {
    title: "Аптекар",
    author: "Юрій Винничук",
    year: 2015,
    description: "Містичний роман про Львів початку XX століття та загадкові вбивства."
  },
  {
    title: "Мальва Ланда",
    author: "Юрій Винничук",
    year: 2003,
    description: "Роман про Львів 1930-х років та кримінальне підпілля."
  },
  
  # Софія Андрухович
  {
    title: "Фелікс Австрія",
    author: "Софія Андрухович",
    year: 2014,
    description: "Історія про Галичину часів Австро-Угорщини та таємниці родини."
  },
  {
    title: "Амадока",
    author: "Софія Андрухович",
    year: 2014,  # Виправлено з 2017
    description: "Роман про творчість та жіночу солідарність."
  },
  {
    title: "Стара Гавана",
    author: "Софія Андрухович",
    year: 2020,
    description: "Роман про пам'ять, втрату та пошуки себе."
  },
  
  # Любко Дереш
  {
    title: "Культ",
    author: "Любко Дереш",
    year: 2002,
    description: "Роман про молодіжну субкультуру та пошуки ідентичності."
  },
  {
    title: "Трохи пітьми",
    author: "Любко Дереш",
    year: 2007,
    description: "Містичний трилер про таємничі події у Карпатах."
  },
  {
    title: "Остання любов Асури Махараджи",
    author: "Любко Дереш",
    year: 2005,
    description: "Філософський роман про кохання та пошуки сенсу життя."
  },
  
  # Марія Матіос
  {
    title: "Солодка Даруся",
    author: "Марія Матіос",
    year: 2004,
    description: "Роман про жіночу долю в гуцульському селі."
  },
  {
    title: "Майже ніколи не навпаки",
    author: "Марія Матіос",
    year: 2007,
    description: "Сімейна сага про три покоління українців."
  },
  {
    title: "Нація",
    author: "Марія Матіос",
    year: 2007,
    description: "Роман про національну ідентичність та історичну пам'ять."
  },
  
  # Василь Шкляр
  {
    title: "Залишенець. Чорний Ворон",
    author: "Василь Шкляр",
    year: 2009,
    description: "Історичний роман про козацькі часи та боротьбу за волю."
  },
  {
    title: "Маруся",
    author: "Василь Шкляр",
    year: 2012,
    description: "Роман про Марусю Чурай та її легендарне життя."
  },
  {
    title: "Елементал",
    author: "Василь Шкляр",
    year: 2005,
    description: "Роман про українську повстанську армію."
  },
  
  # Володимир Лис
  {
    title: "Століття Якова",
    author: "Володимир Лис",
    year: 2010,
    description: "Роман-епопея про XX століття очима простого українця."
  },
  {
    title: "Соло для Соломії",
    author: "Володимир Лис",
    year: 2013,
    description: "Роман про оперну співачку Соломію Крушельницьку."
  },
  {
    title: "Країна гіркої ніжності",
    author: "Володимир Лис",
    year: 2004,
    description: "Роман про Голодомор та його вплив на долі людей."
  },
  
  # Валерій Шевчук
  {
    title: "Дім на горі",
    author: "Валерій Шевчук",
    year: 1983,
    description: "Філософський роман про українське бароко."
  },
  {
    title: "Три листки за вікном",
    author: "Валерій Шевчук",
    year: 1986,
    description: "Історична повість про козацькі часи."
  }
]

books_data.each do |book_attrs|
  author = authors[book_attrs[:author]]
  if author
    Book.create!(
      title: book_attrs[:title],
      author: author,
      year: book_attrs[:year],
      description: book_attrs[:description]
    )
    puts "Створено книгу: #{book_attrs[:title]}"
  else
    puts "ПОМИЛКА: Автор '#{book_attrs[:author]}' не знайдений для книги '#{book_attrs[:title]}'"
  end
end

puts "\n" + "="*50
puts "Успішно створено #{Author.count} авторів!"
puts "Активних авторів: #{Author.active.count}"
puts "Неактивних авторів: #{Author.where(active: false).count}"
puts "Успішно створено #{Book.count} книг!"
puts "="*50

